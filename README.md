# RFM-Segmentation

üßæ Dataset Overview
Database: RFM_SALES

Table: SAMPLE_SALES_DATA

Records: 2,823 rows

Distinct Orders: 307

Columns: Includes ORDERNUMBER, ORDERLINENUMBER, QUANTITYORDERED, PRICEEACH, YEAR_ID, MONTH_ID, etc.

üéØ Objectives
Explore overall order and product quantities.

Calculate basket size metrics.

Analyze monthly and yearly sales trends.

Pivot data for comparative year-over-year insights.

üß™ Key SQL Queries
üîç 1. Basic Data Exploration
sql
Copy
Edit
SELECT * FROM SAMPLE_SALES_DATA LIMIT 10;

SELECT COUNT(*) FROM SAMPLE_SALES_DATA;  -- Total rows
SELECT COUNT(DISTINCT ORDERNUMBER) FROM SAMPLE_SALES_DATA;  -- Unique orders
üì¶ 2. Order and Basket Metrics
sql
Copy
Edit
SELECT 
	COUNT(DISTINCT ORDERNUMBER) AS NUMBER_OF_ORDERS,
    SUM(QUANTITYORDERED) AS QTY_ORDERED,
    ROUND(SUM(QUANTITYORDERED)/COUNT(DISTINCT ORDERNUMBER),1) AS AVG_BASKET_SIZE
FROM SAMPLE_SALES_DATA;
üìÖ 3. Monthly Order Trends
sql
Copy
Edit
SELECT 
	YEAR_ID AS YEAR,
    MONTH_ID AS MONTH,
	COUNT(DISTINCT ORDERNUMBER) AS NUMBER_OF_ORDERS,
    SUM(QUANTITYORDERED) AS QTY_ORDERED,
    ROUND(SUM(QUANTITYORDERED)/COUNT(DISTINCT ORDERNUMBER),1) AS AVG_BASKET_SIZE
FROM SAMPLE_SALES_DATA
GROUP BY 1, 2
ORDER BY 1, 2;
üìÜ 4. Yearly Aggregation
sql
Copy
Edit
SELECT 
	YEAR_ID AS YEAR,
	COUNT(DISTINCT ORDERNUMBER) AS NUMBER_OF_ORDERS,
    SUM(QUANTITYORDERED) AS QTY_ORDERED,
    ROUND(SUM(QUANTITYORDERED)/COUNT(DISTINCT ORDERNUMBER),1) AS AVG_BASKET_SIZE
FROM SAMPLE_SALES_DATA
GROUP BY 1
ORDER BY 1;
üìä 5. Pivoted Yearly Orders by Month
sql
Copy
Edit
SELECT 
	MONTH_ID AS MONTH,
	COUNT(DISTINCT CASE WHEN YEAR_ID = 2003 THEN ORDERNUMBER ELSE NULL END) AS NUMBER_OF_ORDERS_2003,
    COUNT(DISTINCT CASE WHEN YEAR_ID = 2004 THEN ORDERNUMBER ELSE NULL END) AS NUMBER_OF_ORDERS_2004,
    COUNT(DISTINCT CASE WHEN YEAR_ID = 2005 THEN ORDERNUMBER ELSE NULL END) AS NUMBER_OF_ORDERS_2005
FROM SAMPLE_SALES_DATA
GROUP BY MONTH_ID
ORDER BY MONTH_ID;
üìä 6. Pivoted Quantities Ordered by Year
sql
Copy
Edit
SELECT 
	MONTH_ID AS MONTH,
	SUM(CASE WHEN YEAR_ID = 2003 THEN QUANTITYORDERED ELSE 0 END) AS QTY_ORDERED_2003,
    SUM(CASE WHEN YEAR_ID = 2004 THEN QUANTITYORDERED ELSE 0 END) AS QTY_ORDERED_2004,
    SUM(CASE WHEN YEAR_ID = 2005 THEN QUANTITYORDERED ELSE 0 END) AS QTY_ORDERED_2005
FROM SAMPLE_SALES_DATA
GROUP BY MONTH_ID
ORDER BY MONTH_ID;
üöÄ Future Enhancements
Add Revenue Analysis using PRICEEACH

Segment customers using RFM Analysis

Create dashboards in Tableau or Power BI

Use stored procedures or views for reusable queries




